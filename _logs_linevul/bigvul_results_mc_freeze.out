[2023-10-04 17:33:32,725] [INFO] [real_accelerator.py:158:get_accelerator] Setting ds_accelerator to cuda (auto detect)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
best_threshold for Python:  0.3247
best_f1 for Python:  0.4216
best_recall:  0.4057
best_precision:  0.4388
***** Python Test results *****
{'Python_accuracy': 0.9267955801104972, 'Python_ap': 0.36613370184916055, 'Python_recall': array([0.9880775, 0.1509434]), 'Python_precision': array([0.93644068, 0.5       ]), 'Python_f1': array([0.96156635, 0.23188406]), 'Python_threshold': 0.3247, 'Python_mcc': 0.24632168514856478, 'Python_cm': array([[1326,   16],
       [  90,   16]])}
best_threshold for TypeScript:  0.0072
best_f1 for TypeScript:  0.2941
best_recall:  0.2778
best_precision:  0.3125
***** TypeScript Test results *****
{'TypeScript_accuracy': 0.9246861924686193, 'TypeScript_ap': 0.2892055293655371, 'TypeScript_recall': array([1., 0.]), 'TypeScript_precision': array([0.92468619, 0.        ]), 'TypeScript_f1': array([0.96086957, 0.        ]), 'TypeScript_threshold': 0.0072, 'TypeScript_mcc': 0.0, 'TypeScript_cm': array([[221,   0],
       [ 18,   0]])}
best_threshold for Java:  0.0966
best_f1 for Java:  0.1924
best_recall:  0.5577
best_precision:  0.1162
***** Java Test results *****
{'Java_accuracy': 0.9219512195121952, 'Java_ap': 0.1360742535788909, 'Java_recall': array([0.98873028, 0.06730769]), 'Java_precision': array([0.93135173, 0.31818182]), 'Java_f1': array([0.95918367, 0.11111111]), 'Java_threshold': 0.0966, 'Java_mcc': 0.11825123161697534, 'Java_cm': array([[1316,   15],
       [  97,    7]])}
best_threshold for CS:  0.005
best_f1 for CS:  0.4233
best_recall:  0.8696
best_precision:  0.2797
***** CS Test results *****
{'CS_accuracy': 0.7722772277227723, 'CS_ap': 0.3350653842865018, 'CS_recall': array([1., 0.]), 'CS_precision': array([0.77227723, 0.        ]), 'CS_f1': array([0.87150838, 0.        ]), 'CS_threshold': 0.005, 'CS_mcc': 0.0, 'CS_cm': array([[156,   0],
       [ 46,   0]])}
best_threshold for CCPP:  0.0824
best_f1 for CCPP:  0.2143
best_recall:  0.384
best_precision:  0.1486
***** CCPP Test results *****
{'CCPP_accuracy': 0.9473376243417203, 'CCPP_ap': 0.13868916100803355, 'CCPP_recall': array([1., 0.]), 'CCPP_precision': array([0.94733762, 0.        ]), 'CCPP_f1': array([0.97295673, 0.        ]), 'CCPP_threshold': 0.0824, 'CCPP_mcc': 0.0, 'CCPP_cm': array([[14571,     0],
       [  810,     0]])}
best_threshold for JavaScript:  0.1278
best_f1 for JavaScript:  0.2957
best_recall:  0.4863
best_precision:  0.2124
***** JavaScript Test results *****
{'JavaScript_accuracy': 0.9063622370446383, 'JavaScript_ap': 0.23901514382958464, 'JavaScript_recall': array([0.99915062, 0.01092896]), 'JavaScript_precision': array([0.90696479, 0.57142857]), 'JavaScript_f1': array([0.95082851, 0.02144772]), 'JavaScript_threshold': 0.1278, 'JavaScript_mcc': 0.06944066802756747, 'JavaScript_cm': array([[3529,    3],
       [ 362,    4]])}
+------------+----------------------+----------------------+--------------------+---------------------+
|  Language  |          AP          |          F1          |     Precision      |        Recall       |
+------------+----------------------+----------------------+--------------------+---------------------+
|   Python   | 0.36509398000462523  |  0.2318840579710145  |        0.5         |  0.1509433962264151 |
| TypeScript | 0.030701994271613995 |         0.0          |        0.0         |         0.0         |
|    Java    | 0.12495754093578182  | 0.11111111111111112  | 0.3181818181818182 |  0.0673076923076923 |
|     CS     | 0.11241444080136115  |         0.0          |        0.0         |         0.0         |
|    CCPP    | 0.13805769809674906  |         0.0          |        0.0         |         0.0         |
| JavaScript |  0.2348713516835346  | 0.021447721179624665 | 0.5714285714285714 | 0.01092896174863388 |
+------------+----------------------+----------------------+--------------------+---------------------+
22603 22603 22603 22603
