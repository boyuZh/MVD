[2023-11-14 19:25:52,808] [INFO] [real_accelerator.py:158:get_accelerator] Setting ds_accelerator to cuda (auto detect)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
best_threshold for Python:  0.9782
best_f1 for Python:  0.9118
best_recall:  0.8378
best_precision:  1.0
***** Python Test results *****
{'Python_accuracy': 0.9876965140123035, 'Python_ap': 0.8889058953348431, 'Python_recall': array([1.        , 0.83783784]), 'Python_precision': array([0.98686131, 1.        ]), 'Python_f1': array([0.99338722, 0.91176471]), 'Python_threshold': 0.9782, 'Python_mcc': 0.9093017922876246, 'Python_cm': array([[1352,    0],
       [  18,   93]])}
best_threshold for TypeScript:  0.3947
best_f1 for TypeScript:  0.303
best_recall:  0.4545
best_precision:  0.2273
***** TypeScript Test results *****
{'TypeScript_accuracy': 0.923728813559322, 'TypeScript_ap': 0.14107709805153526, 'TypeScript_recall': array([0.96888889, 0.        ]), 'TypeScript_precision': array([0.95196507, 0.        ]), 'TypeScript_f1': array([0.96035242, 0.        ]), 'TypeScript_threshold': 0.3947, 'TypeScript_mcc': -0.03865773123679811, 'TypeScript_cm': array([[218,   7],
       [ 11,   0]])}
best_threshold for Java:  0.2515
best_f1 for Java:  0.3776
best_recall:  0.54
best_precision:  0.2903
***** Java Test results *****
{'Java_accuracy': 0.9371069182389937, 'Java_ap': 0.3829569357261806, 'Java_recall': array([0.9947408, 0.17     ]), 'Java_precision': array([0.94100924, 0.70833333]), 'Java_f1': array([0.96712929, 0.27419355]), 'Java_threshold': 0.2515, 'Java_mcc': 0.32706759635225535, 'Java_cm': array([[1324,    7],
       [  83,   17]])}
best_threshold for CS:  0.1734
best_f1 for CS:  0.7664
best_recall:  0.6833
best_precision:  0.8723
***** CS Test results *****
{'CS_accuracy': 0.8596491228070176, 'CS_ap': 0.8092893734705622, 'CS_recall': array([0.99404762, 0.48333333]), 'CS_precision': array([0.84343434, 0.96666667]), 'CS_f1': array([0.91256831, 0.64444444]), 'CS_threshold': 0.1734, 'CS_mcc': 0.6218736139496447, 'CS_cm': array([[167,   1],
       [ 31,  29]])}
best_threshold for CCPP:  0.2974
best_f1 for CCPP:  0.3367
best_recall:  0.3752
best_precision:  0.3054
***** CCPP Test results *****
{'CCPP_accuracy': 0.9560661286123405, 'CCPP_ap': 0.328081956122476, 'CCPP_recall': array([0.99917893, 0.11481976]), 'CCPP_precision': array([0.95657016, 0.87755102]), 'CCPP_f1': array([0.97741039, 0.20306966]), 'CCPP_threshold': 0.2974, 'CCPP_mcc': 0.3083645855114911, 'CCPP_cm': array([[14603,    12],
       [  663,    86]])}
best_threshold for JavaScript:  0.3694
best_f1 for JavaScript:  0.4951
best_recall:  0.4824
best_precision:  0.5086
***** JavaScript Test results *****
{'JavaScript_accuracy': 0.9202992004126902, 'JavaScript_ap': 0.5332408515152481, 'JavaScript_recall': array([0.98261117, 0.32791328]), 'JavaScript_precision': array([0.93288227, 0.66483516]), 'JavaScript_f1': array([0.95710121, 0.43920145]), 'JavaScript_threshold': 0.3694, 'JavaScript_mcc': 0.4308200098556118, 'JavaScript_cm': array([[3447,   61],
       [ 248,  121]])}
+------------+---------------------+---------------------+--------------------+---------------------+
|  Language  |          AP         |          F1         |     Precision      |        Recall       |
+------------+---------------------+---------------------+--------------------+---------------------+
|   Python   |  0.8887421032194658 |  0.911764705882353  |        1.0         |  0.8378378378378378 |
| TypeScript | 0.10330601413835286 |         0.0         |        0.0         |         0.0         |
|    Java    | 0.37919146730505227 |  0.2741935483870968 | 0.7083333333333334 |         0.17        |
|     CS     |  0.786215686358549  |  0.6444444444444445 | 0.9666666666666667 | 0.48333333333333334 |
|    CCPP    |  0.3281761182932426 | 0.20306965761511214 | 0.8775510204081632 | 0.11481975967957277 |
| JavaScript |  0.5326212590553598 | 0.44080145719489977 | 0.6722222222222223 | 0.32791327913279134 |
+------------+---------------------+---------------------+--------------------+---------------------+
22599 22599 22599 22599
