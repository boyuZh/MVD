[2023-11-15 01:50:25,124] [INFO] [real_accelerator.py:158:get_accelerator] Setting ds_accelerator to cuda (auto detect)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
best_threshold for Python:  0.1339
best_f1 for Python:  0.4576
best_recall:  0.5586
best_precision:  0.3875
***** Python Test results *****
{'Python_accuracy': 0.9330143540669856, 'Python_ap': 0.47773627522918566, 'Python_recall': array([0.99852071, 0.13513514]), 'Python_precision': array([0.93360996, 0.88235294]), 'Python_f1': array([0.96497498, 0.234375  ]), 'Python_threshold': 0.1339, 'Python_mcc': 0.33023962664145545, 'Python_cm': array([[1350,    2],
       [  96,   15]])}
best_threshold for TypeScript:  0.1186
best_f1 for TypeScript:  0.2
best_recall:  0.1818
best_precision:  0.2222
***** TypeScript Test results *****
{'TypeScript_accuracy': 0.9533898305084746, 'TypeScript_ap': 0.18664536069379423, 'TypeScript_recall': array([1., 0.]), 'TypeScript_precision': array([0.95338983, 0.        ]), 'TypeScript_f1': array([0.97613883, 0.        ]), 'TypeScript_threshold': 0.1186, 'TypeScript_mcc': 0.0, 'TypeScript_cm': array([[225,   0],
       [ 11,   0]])}
best_threshold for Java:  0.1043
best_f1 for Java:  0.2211
best_recall:  0.44
best_precision:  0.1477
***** Java Test results *****
{'Java_accuracy': 0.9245283018867925, 'Java_ap': 0.1289425227451062, 'Java_recall': array([0.99173554, 0.03      ]), 'Java_precision': array([0.93154552, 0.21428571]), 'Java_f1': array([0.96069869, 0.05263158]), 'Java_threshold': 0.1043, 'Java_mcc': 0.056300268099439915, 'Java_cm': array([[1320,   11],
       [  97,    3]])}
best_threshold for CS:  0.0419
best_f1 for CS:  0.4578
best_recall:  0.6333
best_precision:  0.3585
***** CS Test results *****
{'CS_accuracy': 0.7368421052631579, 'CS_ap': 0.4057741955179812, 'CS_recall': array([1., 0.]), 'CS_precision': array([0.73684211, 0.        ]), 'CS_f1': array([0.84848485, 0.        ]), 'CS_threshold': 0.0419, 'CS_mcc': 0.0, 'CS_cm': array([[168,   0],
       [ 60,   0]])}
best_threshold for CCPP:  0.0716
best_f1 for CCPP:  0.1991
best_recall:  0.2523
best_precision:  0.1643
***** CCPP Test results *****
{'CCPP_accuracy': 0.9512496745639156, 'CCPP_ap': 0.12450658947895595, 'CCPP_recall': array([1., 0.]), 'CCPP_precision': array([0.95124967, 0.        ]), 'CCPP_f1': array([0.97501584, 0.        ]), 'CCPP_threshold': 0.0716, 'CCPP_mcc': 0.0, 'CCPP_cm': array([[14615,     0],
       [  749,     0]])}
best_threshold for JavaScript:  0.0802
best_f1 for JavaScript:  0.2716
best_recall:  0.4255
best_precision:  0.1995
***** JavaScript Test results *****
{'JavaScript_accuracy': 0.9048233169976786, 'JavaScript_ap': 0.19880147419580171, 'JavaScript_recall': array([1., 0.]), 'JavaScript_precision': array([0.90482332, 0.        ]), 'JavaScript_f1': array([0.95003385, 0.        ]), 'JavaScript_threshold': 0.0802, 'JavaScript_mcc': 0.0, 'JavaScript_cm': array([[3508,    0],
       [ 369,    0]])}
+------------+----------------------+---------------------+--------------------+---------------------+
|  Language  |          AP          |          F1         |     Precision      |        Recall       |
+------------+----------------------+---------------------+--------------------+---------------------+
|   Python   |  0.4783887927122365  |  0.2362204724409449 |       0.9375       | 0.13513513513513514 |
| TypeScript | 0.056150730779958226 |         0.0         |        0.0         |         0.0         |
|    Java    | 0.12077076337272591  | 0.01834862385321101 | 0.1111111111111111 |         0.01        |
|     CS     |  0.1107671318351987  |         0.0         |        0.0         |         0.0         |
|    CCPP    | 0.12359162221084595  |         0.0         |        0.0         |         0.0         |
| JavaScript |  0.1918929603368889  |         0.0         |        0.0         |         0.0         |
+------------+----------------------+---------------------+--------------------+---------------------+
22599 22599 22599 22599
