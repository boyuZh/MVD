[2023-10-03 15:38:23,103] [INFO] [real_accelerator.py:158:get_accelerator] Setting ds_accelerator to cuda (auto detect)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
best_threshold for Python:  0.9945
best_f1 for Python:  0.8526
best_recall:  0.7642
best_precision:  0.9643
***** Python Test results *****
{'Python_accuracy': 0.9751381215469613, 'Python_ap': 0.8156614532829417, 'Python_recall': array([0.99105812, 0.77358491]), 'Python_precision': array([0.98227474, 0.87234043]), 'Python_f1': array([0.98664688, 0.82      ]), 'Python_threshold': 0.9945, 'Python_mcc': 0.808378332827277, 'Python_cm': array([[1330,   12],
       [  24,   82]])}
best_threshold for TypeScript:  0.0006
best_f1 for TypeScript:  0.3333
best_recall:  0.5556
best_precision:  0.2381
***** TypeScript Test results *****
{'TypeScript_accuracy': 0.9079497907949791, 'TypeScript_ap': 0.2152834736957923, 'TypeScript_recall': array([0.97285068, 0.11111111]), 'TypeScript_precision': array([0.93073593, 0.25      ]), 'TypeScript_f1': array([0.95132743, 0.15384615]), 'TypeScript_threshold': 0.0006, 'TypeScript_mcc': 0.12318649371475658, 'TypeScript_cm': array([[215,   6],
       [ 16,   2]])}
best_threshold for Java:  0.0044
best_f1 for Java:  0.3846
best_recall:  0.5288
best_precision:  0.3022
***** Java Test results *****
{'Java_accuracy': 0.9205574912891986, 'Java_ap': 0.39479419648195324, 'Java_recall': array([0.96844478, 0.30769231]), 'Java_precision': array([0.94709772, 0.43243243]), 'Java_f1': array([0.9576523 , 0.35955056]), 'Java_threshold': 0.0044, 'Java_mcc': 0.3237319122165741, 'Java_cm': array([[1289,   42],
       [  72,   32]])}
best_threshold for CS:  0.5707
best_f1 for CS:  0.7229
best_recall:  0.6522
best_precision:  0.8108
***** CS Test results *****
{'CS_accuracy': 0.8861386138613861, 'CS_ap': 0.7888858114746542, 'CS_recall': array([0.95512821, 0.65217391]), 'CS_precision': array([0.9030303 , 0.81081081]), 'CS_f1': array([0.92834891, 0.72289157]), 'CS_threshold': 0.5707, 'CS_mcc': 0.6584202460995122, 'CS_cm': array([[149,   7],
       [ 16,  30]])}
best_threshold for CCPP:  0.0102
best_f1 for CCPP:  0.3144
best_recall:  0.3802
best_precision:  0.2681
***** CCPP Test results *****
{'CCPP_accuracy': 0.9403809895325401, 'CCPP_ap': 0.32079585188647686, 'CCPP_recall': array([0.98119553, 0.20617284]), 'CCPP_precision': array([0.95696118, 0.37868481]), 'CCPP_f1': array([0.96892684, 0.26698641]), 'CCPP_threshold': 0.0102, 'CCPP_mcc': 0.2507776693396185, 'CCPP_cm': array([[14297,   274],
       [  643,   167]])}
best_threshold for JavaScript:  0.0513
best_f1 for JavaScript:  0.5154
best_recall:  0.571
best_precision:  0.4697
***** JavaScript Test results *****
{'JavaScript_accuracy': 0.9120061570035916, 'JavaScript_ap': 0.5356584577562996, 'JavaScript_recall': array([0.96659117, 0.3852459 ]), 'JavaScript_precision': array([0.93816983, 0.54440154]), 'JavaScript_f1': array([0.95216846, 0.4512    ]), 'JavaScript_threshold': 0.0513, 'JavaScript_mcc': 0.4120515701067606, 'JavaScript_cm': array([[3414,  118],
       [ 225,  141]])}
+------------+---------------------+---------------------+---------------------+---------------------+
|  Language  |          AP         |          F1         |      Precision      |        Recall       |
+------------+---------------------+---------------------+---------------------+---------------------+
|   Python   |  0.8089620181152227 |  0.8159203980099502 |  0.8631578947368421 |  0.7735849056603774 |
| TypeScript | 0.12894028773665048 | 0.14285714285714285 |         0.2         |  0.1111111111111111 |
|    Java    |  0.3772303797656966 |  0.3595505617977528 | 0.43243243243243246 |  0.3076923076923077 |
|     CS     |  0.7192933309091635 |  0.7058823529411764 |  0.7692307692307693 |  0.6521739130434783 |
|    CCPP    | 0.31843659448571987 |  0.2669864108713029 |  0.3786848072562358 | 0.20617283950617285 |
| JavaScript |  0.5325071324343793 | 0.45047923322683703 |  0.5423076923076923 | 0.38524590163934425 |
+------------+---------------------+---------------------+---------------------+---------------------+
22603 22603 22603 22603
