[2023-10-04 16:27:50,926] [INFO] [real_accelerator.py:158:get_accelerator] Setting ds_accelerator to cuda (auto detect)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
label_freq {0: 169458, 1: 779, 2: 151, 3: 789, 4: 332, 5: 6311, 6: 2969}
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
(22600, 7) (22600,)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
best_threshold for Python:  0.9334
best_f1 for Python:  0.8783
best_recall:  0.783
best_precision:  1.0
***** Python Test results *****
{'Python_accuracy': 0.9841160220994475, 'Python_ap': 0.8651894971371257, 'Python_recall': array([1.        , 0.78301887]), 'Python_precision': array([0.98315018, 1.        ]), 'Python_f1': array([0.99150351, 0.87830688]), 'Python_threshold': 0.9334, 'Python_mcc': 0.8773967992932554, 'Python_cm': array([[1342,    0],
       [  23,   83]])}
best_threshold for TypeScript:  0.317
best_f1 for TypeScript:  0.4179
best_recall:  0.7778
best_precision:  0.2857
***** TypeScript Test results *****
{'TypeScript_accuracy': 0.8786610878661087, 'TypeScript_ap': 0.29617005589566436, 'TypeScript_recall': array([0.91402715, 0.44444444]), 'TypeScript_precision': array([0.95283019, 0.2962963 ]), 'TypeScript_f1': array([0.9330254 , 0.35555556]), 'TypeScript_threshold': 0.317, 'TypeScript_mcc': 0.29883903379316423, 'TypeScript_cm': array([[202,  19],
       [ 10,   8]])}
best_threshold for Java:  0.19
best_f1 for Java:  0.3864
best_recall:  0.5481
best_precision:  0.2984
***** Java Test results *****
{'Java_accuracy': 0.9317073170731708, 'Java_ap': 0.39627661547937554, 'Java_recall': array([0.98948159, 0.19230769]), 'Java_precision': array([0.94004283, 0.58823529]), 'Java_f1': array([0.96412884, 0.28985507]), 'Java_threshold': 0.19, 'Java_mcc': 0.30989563063713316, 'Java_cm': array([[1317,   14],
       [  84,   20]])}
best_threshold for CS:  0.224
best_f1 for CS:  0.7416
best_recall:  0.7174
best_precision:  0.7674
***** CS Test results *****
{'CS_accuracy': 0.8861386138613861, 'CS_ap': 0.8072619776991388, 'CS_recall': array([0.96794872, 0.60869565]), 'CS_precision': array([0.89349112, 0.84848485]), 'CS_f1': array([0.92923077, 0.70886076]), 'CS_threshold': 0.224, 'CS_mcc': 0.6541072293208386, 'CS_cm': array([[151,   5],
       [ 18,  28]])}
best_threshold for CCPP:  0.2288
best_f1 for CCPP:  0.3411
best_recall:  0.4704
best_precision:  0.2676
***** CCPP Test results *****
{'CCPP_accuracy': 0.9444119368051492, 'CCPP_ap': 0.34151173572340576, 'CCPP_recall': array([0.98531329, 0.20864198]), 'CCPP_precision': array([0.95726097, 0.44125326]), 'CCPP_f1': array([0.97108458, 0.28331936]), 'CCPP_threshold': 0.2288, 'CCPP_mcc': 0.2780178680790184, 'CCPP_cm': array([[14357,   214],
       [  641,   169]])}
best_threshold for JavaScript:  0.4656
best_f1 for JavaScript:  0.4868
best_recall:  0.429
best_precision:  0.5627
***** JavaScript Test results *****
{'JavaScript_accuracy': 0.918163160595177, 'JavaScript_ap': 0.5384344653712161, 'JavaScript_recall': array([0.97423556, 0.37704918]), 'JavaScript_precision': array([0.93785773, 0.60262009]), 'JavaScript_f1': array([0.9557006 , 0.46386555]), 'JavaScript_threshold': 0.4656, 'JavaScript_mcc': 0.4357311200105116, 'JavaScript_cm': array([[3441,   91],
       [ 228,  138]])}
+------------+---------------------+---------------------+---------------------+---------------------+
|  Language  |          AP         |          F1         |      Precision      |        Recall       |
+------------+---------------------+---------------------+---------------------+---------------------+
|   Python   |  0.8648831630401106 |  0.8783068783068783 |         1.0         |  0.7830188679245284 |
| TypeScript | 0.23126262574165712 | 0.32653061224489793 | 0.25806451612903225 |  0.4444444444444444 |
|    Java    |  0.3936906389790125 |  0.2898550724637681 |  0.5882352941176471 | 0.19230769230769232 |
|     CS     |  0.7873906621690595 |  0.7088607594936709 |  0.8484848484848485 |  0.6086956521739131 |
|    CCPP    |  0.3413317115228367 | 0.28331936295054483 |  0.4412532637075718 | 0.20864197530864198 |
| JavaScript |  0.5377960191364469 |  0.4638655462184874 |  0.6026200873362445 |  0.3770491803278688 |
+------------+---------------------+---------------------+---------------------+---------------------+
22603 22603 22603 22603
