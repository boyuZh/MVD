[2023-11-15 22:17:04,704] [INFO] [real_accelerator.py:158:get_accelerator] Setting ds_accelerator to cuda (auto detect)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
label_freq {0: 169506, 1: 809, 2: 151, 3: 795, 4: 319, 5: 6260, 6: 2953}
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
(22599, 7) (22599,)
language_dict:  {'Python': 1, 'TypeScript': 2, 'Java': 3, 'CS': 4, 'CCPP': 5, 'JavaScript': 6}
best_threshold for Python:  0.998
best_f1 for Python:  0.8908
best_recall:  0.803
best_precision:  1.0
***** Python Test results *****
{'Python_accuracy': 0.9896449704142012, 'Python_ap': 0.8664669360015673, 'Python_recall': array([0.9992224, 0.8030303]), 'Python_precision': array([0.98998459, 0.98148148]), 'Python_f1': array([0.99458204, 0.88333333]), 'Python_threshold': 0.998, 'Python_mcc': 0.8828144075970721, 'Python_cm': array([[1285,    1],
       [  13,   53]])}
best_threshold for TypeScript:  0.0233
best_f1 for TypeScript:  0.3636
best_recall:  0.56
best_precision:  0.2692
***** TypeScript Test results *****
{'TypeScript_accuracy': 0.8677685950413223, 'TypeScript_ap': 0.30158961591760186, 'TypeScript_recall': array([0.95391705, 0.12      ]), 'TypeScript_precision': array([0.90393013, 0.23076923]), 'TypeScript_f1': array([0.92825112, 0.15789474]), 'TypeScript_threshold': 0.0233, 'TypeScript_mcc': 0.09978266158154561, 'TypeScript_cm': array([[207,  10],
       [ 22,   3]])}
best_threshold for Java:  0.0546
best_f1 for Java:  0.4068
best_recall:  0.4364
best_precision:  0.381
***** Java Test results *****
{'Java_accuracy': 0.9339819318971508, 'Java_ap': 0.43254874594575277, 'Java_recall': array([0.99473288, 0.2       ]), 'Java_precision': array([0.93758865, 0.75862069]), 'Java_f1': array([0.96531581, 0.31654676]), 'Java_threshold': 0.0546, 'Java_mcc': 0.36820490433520997, 'Java_cm': array([[1322,    7],
       [  88,   22]])}
best_threshold for CS:  0.0275
best_f1 for CS:  0.7586
best_recall:  0.66
best_precision:  0.8919
***** CS Test results *****
{'CS_accuracy': 0.8904761904761904, 'CS_ap': 0.8222230562074988, 'CS_recall': array([1.  , 0.54]), 'CS_precision': array([0.87431694, 1.        ]), 'CS_f1': array([0.93294461, 0.7012987 ]), 'CS_threshold': 0.0275, 'CS_mcc': 0.6871180011766419, 'CS_cm': array([[160,   0],
       [ 23,  27]])}
best_threshold for CCPP:  0.0634
best_f1 for CCPP:  0.3574
best_recall:  0.4391
best_precision:  0.3013
***** CCPP Test results *****
{'CCPP_accuracy': 0.9537560975609756, 'CCPP_ap': 0.35251239867154127, 'CCPP_recall': array([0.99609669, 0.15284974]), 'CCPP_precision': array([0.95697368, 0.67428571]), 'CCPP_f1': array([0.97614334, 0.24920803]), 'CCPP_threshold': 0.0634, 'CCPP_mcc': 0.30663306402259694, 'CCPP_cm': array([[14546,    57],
       [  654,   118]])}
best_threshold for JavaScript:  0.055
best_f1 for JavaScript:  0.5363
best_recall:  0.5487
best_precision:  0.5245
***** JavaScript Test results *****
{'JavaScript_accuracy': 0.9234053239578102, 'JavaScript_ap': 0.5811456837339406, 'JavaScript_recall': array([0.98775056, 0.33076923]), 'JavaScript_precision': array([0.93147808, 0.74566474]), 'JavaScript_f1': array([0.95878935, 0.45825933]), 'JavaScript_threshold': 0.055, 'JavaScript_mcc': 0.46441725482246526, 'JavaScript_cm': array([[3548,   44],
       [ 261,  129]])}
+------------+---------------------+---------------------+--------------------+---------------------+
|  Language  |          AP         |          F1         |     Precision      |        Recall       |
+------------+---------------------+---------------------+--------------------+---------------------+
|   Python   |  0.8664030505480755 |  0.8833333333333332 | 0.9814814814814815 |  0.803030303030303  |
| TypeScript | 0.20189404726455926 | 0.14634146341463414 |       0.1875       |         0.12        |
|    Java    |  0.4252396627768605 |  0.3165467625899281 | 0.7586206896551724 |         0.2         |
|     CS     |  0.7960666124422637 |  0.7012987012987013 |        1.0         |         0.54        |
|    CCPP    | 0.35235230638176485 |  0.249208025343189  | 0.6742857142857143 | 0.15284974093264247 |
| JavaScript |  0.5796309321344424 |  0.4571428571428572 | 0.7529411764705882 |  0.3282051282051282 |
+------------+---------------------+---------------------+--------------------+---------------------+
22600 22600 22600 22600
